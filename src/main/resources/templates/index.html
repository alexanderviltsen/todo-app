<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <title>Todo App - –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã Todo –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
            <nav>
                <a href="/" class="active">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/app/tasks">–ó–∞–¥–∞—á–∏</a>
                <a href="/app/calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</a>
                <a href="/app/statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            </nav>
        </header>

        <div class="content">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p style="font-size: 18px; color: #6b7280; margin: 20px 0;">
                –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ.
            </p>

            <div id="quick-stats" class="stats-grid" style="margin-top: 40px;">
                <div class="stat-card">
                    <h3>–í—Å–µ–≥–æ –∑–∞–¥–∞—á</h3>
                    <div class="stat-value" id="total-tasks">-</div>
                </div>
                <div class="stat-card">
                    <h3>–í—ã–ø–æ–ª–Ω–µ–Ω–æ</h3>
                    <div class="stat-value" id="completed-tasks">-</div>
                </div>
                <div class="stat-card">
                    <h3>–í –ø—Ä–æ—Ü–µ—Å—Å–µ</h3>
                    <div class="stat-value" id="incomplete-tasks">-</div>
                </div>
            </div>

            <div style="margin-top: 40px;">
                <h3 style="margin-bottom: 20px; color: #667eea;">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                    <a href="/app/tasks" class="btn btn-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏</a>
                    <a href="/app/calendar" class="btn btn-success">–û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å</a>
                    <a href="/app/statistics" class="btn btn-warning">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</a>
                </div>
            </div>
        </div>
    </div>

    <script th:src="@{/js/api.js}"></script>
    <script>
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –±—ã—Å—Ç—Ä—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        async function loadQuickStats() {
            try {
                const stats = await api.getStatistics();
                document.getElementById('total-tasks').textContent = stats.total;
                document.getElementById('completed-tasks').textContent = stats.completed;
                document.getElementById('incomplete-tasks').textContent = stats.incomplete;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadQuickStats);
    </script>
</body>
</html>
